<!DOCTYPE html>
<html lang="ja" dir="ltr">
<head>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <style media="screen">
    #mapid {
      height: 500px;
      width: 50%;
      margin-right: 25%; /* 右側に25%の余白を持たせる */
    }
  </style>
  <%= include_gon %>
  <%= javascript_include_tag 'controllers/leaflet_map.js' %>
</head>
<body>
<% if flash[:alert] %>
  <div class="alert alert-danger">
    <%= flash[:alert] %>
  </div>
<% else %>
  <h1>Travel Plan Result</h1>

  <div id="planResult">
    <!-- 整形された形で表示 -->
    <h1>生成結果：<%= @description %></h1>
    <p><%= @plan %></p>
    <p>料金：<%= @total_fee %></p>
  </div>
  
  <div id="mapid"></div>

  <div class="regenerate-plan">
    <%= link_to 'ルートを再生成する', chat_room_path %>
  </div>
<% end %>
</body>
</html>
